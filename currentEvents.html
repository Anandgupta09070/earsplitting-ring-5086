<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/currentEvents.css">
    <link rel="stylesheet" type="text/css" href="./styles/navbar.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/852a0e2330.js" crossorigin="anonymous"></script>
    <title>Current Events</title>
    <script src="https://kit.fontawesome.com/75a6e54339.js" crossorigin="anonymous"></script>
</head>

<body>
    
     <!-- Navbar Section Start -->
 <div id="nav_container"></div>
 <!-- Nvbar Secytion End -->

    <div class="top-bg">
        <div class="inside-bg">
            <h1>Current Events</h1>
            <br>
            <p>
                Covering the latest important events, news-worthy moments and movements from around the world â€” from
                political protests to cultural celebrations. When submitting, please provide a photo description so we
                understand the full context of the image.
            </p>
            <br>
            <div class="bg-button">
                Submit to<p class="bg-strong"> Current Events</p>
            </div>
        </div>

    </div>

    <div id="container">


    </div>

</body>

</html>

<script>

    let url = `https://api.unsplash.com/photos?client_id=Rib8nTMAs3RXqWcoPCnV3kbiwygZEMwnIe5rQkSg3xU`

    var res;
    fetch(url).then((res) => {
        return res.json().then((res) => {
            appendImg(res);
            console.log(res);
            window.addEventListener("scroll", () => {
                if (window.scrollY + window.innerHeight >= document.documentElement.scrollHeight) {
                    appendImg(res)
                    in_div(res);
                }
            })
        })
    })

    let container = document.getElementById("container");

    function appendImg(res) {
        let i = 0;
        while (i < 11) {
            res.forEach(element => {
                let div = document.createElement("div");
                div.setAttribute("class","img_container")


                let img = document.createElement("img");
                img.setAttribute("class", "images")
                img.src = element.links.download


                let div1 = document.createElement("div");
                div1.innerText = "sdbjvik"
                div1.setAttribute("class","top-right")
                div1.innerHTML = '<i id="fa-heart" class="fas fa-heart "></i>'
                div1.addEventListener("click",function(e){
                    heartFunc(e);
                })
                
               
                div.append(img,div1);
                container.append(div);
                i++
            });
        }
    }

    function heartFunc(e){
        
  
        e.target.style.color = 'red';
        localStorage.setItem("cart",JSON.stringify(e));
    }
</script>
<script type="module" >
    import navbar from './components/navbar.js'
    let cont1 = document.getElementById("nav_container")
    cont1.innerHTML = navbar();
</script>